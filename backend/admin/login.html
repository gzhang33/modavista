<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理后台登录 · Dreamoda</title>
    <link rel="stylesheet" href="assets/css/base.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/login.css">
</head>
<body>
    <div class="auth-shell">
        <div class="auth-card">
            <div class="auth-content">
                <div class="auth-brand">
                    <div class="auth-badge">Dreamoda Admin Center</div>
                    <h1 class="auth-title">欢迎回来，管理员</h1>
                    <p class="auth-subtitle">为了保护品牌数据，请完成账号登录与二次验证</p>
                </div>

                <div class="step-header">
                    <span class="step-indicator" data-step-indicator>Step 1</span>
                    <h2 class="step-title" data-step-title>账号登录</h2>
                    <p class="step-subtitle" data-step-subtitle>输入管理员账号与密码进入控制台</p>
                </div>

                <div id="auth-message" class="auth-message is-hidden" role="alert" data-type="info">
                    <span id="auth-message-text"></span>
                </div>

                <form id="credentials-form" class="auth-form" autocomplete="on">
                    <div class="form-group">
                        <label class="form-label" for="username">账号</label>
                        <input class="form-control" type="text" id="username" name="username" placeholder="admin" autocomplete="username" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="password">密码</label>
                        <input class="form-control" type="password" id="password" name="password" placeholder="请输入密码" autocomplete="current-password" required>
                    </div>
                    <div class="auth-actions">
                        <button type="submit" class="primary-button" id="login-submit">登录并继续</button>
                        <button type="button" class="ghost-button" id="forgot-password">使用恢复代码登录</button>
                    </div>
                </form>

                <form id="totp-form" class="auth-form is-hidden" autocomplete="off" novalidate>
                    <div class="form-group">
                        <label class="form-label" for="totp-code" data-totp-label>二次验证 · 动态验证码</label>
                        <input class="form-control totp-input" type="text" id="totp-code" name="totp-code" inputmode="numeric" placeholder="000000" maxlength="6" autocomplete="one-time-code" required>
                        <p class="form-hint" data-totp-hint>打开认证器 App，输入当前 6 位验证码。验证码每 30 秒更新一次。</p>
                        <div class="recovery-hint is-hidden" data-recovery-hint>
                        </div>
                    </div>
                    <label class="checkbox-row">
                        <input type="checkbox" id="remember-device">
                        <span>记住此设备 30 天（仅在可信环境勾选）</span>
                    </label>
                    <div class="auth-actions">
                        <button type="submit" class="primary-button" id="totp-submit">验证安全码</button>
                        <div style="display:flex; gap:16px; flex-wrap: wrap;">
                            <button type="button" class="ghost-button" id="use-recovery-code">使用恢复代码</button>
                            <button type="button" class="ghost-button" id="back-to-login">返回账号登录</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

    </div>
    <script src="assets/js/login.js" defer></script>
</body>
</html>
